(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7669:function(e,t,r){Promise.resolve().then(r.t.bind(r,2972,23)),Promise.resolve().then(r.bind(r,6022))},6022:function(e,t,r){"use strict";var l=r(7437),s=r(2265),a=r(7648);t.default=()=>{let[e,t]=(0,s.useState)(null),[r,n]=(0,s.useState)(""),[i,o]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[c,m]=(0,s.useState)(""),[b,p]=(0,s.useState)("idle"),[g,f]=(0,s.useState)(null),x=async t=>{t.preventDefault(),p("uploading"),f(null);try{let t=new FormData;e&&t.append("audio",e),r&&t.append("transcript",r),t.append("participants",i),t.append("meetingType",d),t.append("duration",c);let l=await fetch("/api/meetings",{method:"POST",body:t});if(!l.ok)throw Error("Upload failed");await l.json(),p("success"),setTimeout(()=>{window.location.href="/meetings"},2e3)}catch(e){e instanceof Error?f(e.message):f("Unknown error"),p("error")}};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",children:"Submit Meeting"}),(0,l.jsx)(a.default,{href:"/meetings",className:"text-blue-600 hover:text-blue-800 text-sm",children:"View Meeting History â†’"})]}),(0,l.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"Voice Recording (mp3, wav)"}),(0,l.jsx)("input",{type:"file",accept:"audio/mp3,audio/wav",onChange:e=>{e.target.files&&e.target.files[0]&&t(e.target.files[0])},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"Transcript (optional)"}),(0,l.jsx)("textarea",{value:r,onChange:e=>n(e.target.value),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Paste transcript here (optional)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"Participants (comma separated)"}),(0,l.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,placeholder:"John, Alice, Bob"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"Meeting Type"}),(0,l.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,placeholder:"e.g., Planning, Review, Standup"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"Duration (minutes)"}),(0,l.jsx)("input",{type:"number",value:c,onChange:e=>m(e.target.value),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:1,placeholder:"30"})]}),(0,l.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:"uploading"===b,children:"uploading"===b?"Uploading...":"Submit Meeting"}),"success"===b&&(0,l.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,l.jsx)("p",{className:"text-green-800 font-medium",children:"Meeting submitted successfully!"}),(0,l.jsx)("p",{className:"text-green-700 text-sm mt-1",children:"Redirecting to meeting history..."})]}),"error"===b&&(0,l.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,l.jsxs)("p",{className:"text-red-800 font-medium",children:["Error: ",g]})})]})]})}}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=7669)}),_N_E=e.O()}]);